<!doctype html><html><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>EcoTrack Pro — ETHRAEON</title><link rel="stylesheet" href="/assets/brand.css">
<body><div class="container">
  <div class="hero"><div class="logo"></div><div><h1>EcoTrack Pro</h1>
  <div class="small">Impact deltas from simple interventions — plus what to do next.</div></div></div>

  <div class="card"><div class="badge">SIMULATED</div>
    <h2>Snapshot</h2>
    <div id="metrics" class="small">Loading…</div>
  </div>

<script src="/assets/demo.js"></script>
<script>
const playbook = {
  "CO₂e (scope 2)": { explain:"Electricity emissions are down — keep pushing supplier contracts + scheduling.",
    action:"Set a target: −10% next quarter via off-peak scheduling + green tariff switch." },
  "Water use (m³)": { explain:"Usage trending down; likely operational tweaks are working.",
    action:"Enable monthly leak check + rinse cycle optimization in Ops checklist." },
  "Waste to landfill (kg)": { explain:"Landfill down — diversion improving.",
    action:"Add a 30-day pilot: organics collection at 2 sites → measure diversion uplift." }
};
loadJSON('/data/ecotrack.json').then(d=>{
  document.querySelector('#metrics').innerHTML = d.metrics.map(m=>{
    const p = playbook[m.kpi] || {explain:"", action:""};
    return `<div class="card" style="margin:8px 0">
      <b>${m.kpi}</b><br>
      Baseline: ${m.baseline} → Current: ${m.current} (<b>${m.delta}</b>)<br>
      <i>${p.explain}</i><br>
      <button onclick="alert('${p.action.replace(/'/g,'\\'')}')">Suggested next step</button>
    </div>`;
  }).join('');
});

</script>
<script>
const playbook = {
  "CO₂e (scope 2)": { explain:"Electricity emissions are down — supplier contracts + scheduling likely helped.",
    action:"Target another −10% next quarter via off-peak scheduling + green tariff switch." },
  "Water use (m³)": { explain:"Usage trending down; operational tweaks working.",
    action:"Add monthly leak checks + rinse cycle optimization to Ops checklist." },
  "Waste to landfill (kg)": { explain:"Landfill down — diversion improving.",
    action:"Run a 30-day organics pilot at 2 sites and measure diversion uplift." }
};
loadJSON('/data/ecotrack.json').then(d=>{
  document.querySelector('#metrics').innerHTML = d.metrics.map(m=>{
    const p = playbook[m.kpi] || {explain:"", action:""};
    return `<div class="card" style="margin:8px 0">
      <b>${m.kpi}</b><br>
      Baseline: ${m.baseline} → Current: ${m.current} (<b>${m.delta}</b>)<br>
      <i>${p.explain}</i><br>
      <button class="nextStep" data-action="${(p.action||'').replace(/'/g,'&apos;')}">Suggested next step</button>
    </div>`;
  }).join('');
}).catch(()=>{ document.querySelector('#metrics').textContent = 'Unable to load metrics.'; });

document.addEventListener('click', (e)=>{
  const btn = e.target.closest('.nextStep');
  if(!btn) return;
  const msg = btn.getAttribute('data-action') || 'Next step';
  alert(msg);
});

</script>
</body></html>
